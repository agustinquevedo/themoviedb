(this.webpackJsonpthemoviedb=this.webpackJsonpthemoviedb||[]).push([[0],{38:function(e,t,s){},39:function(e,t,s){"use strict";s.r(t);var a=s(1),i=s(23),c=s.n(i),n=s(13),r=s(3),o=s(8),l=s(25),j=s(15);function d(e,t){switch(t.type){case"ADD_TO_FAVORITES":return Object(j.a)(Object(j.a)({},e),{},{favoritesList:[t.payload].concat(Object(l.a)(e.favoritesList))});case"REMOVE_FROM_FAVORITES":return Object(j.a)(Object(j.a)({},e),{},{favoritesList:e.favoritesList.filter((function(e){return e.id!==t.payload}))});default:return e}}var b=s(0),m={favoritesList:localStorage.getItem("favoritesList")?JSON.parse(localStorage.getItem("favoritesList")):[],selectedMovie:null},u=Object(a.createContext)(m),h=function(e){var t=Object(a.useReducer)(d,m),s=Object(o.a)(t,2),i=s[0],c=s[1];Object(a.useEffect)((function(){localStorage.setItem("favoritesList",JSON.stringify(i.favoritesList))}),[i]);return Object(b.jsx)(u.Provider,{value:{favoritesList:i.favoritesList,addToFavoritesList:function(e){c({type:"ADD_TO_FAVORITES",payload:e})},removeFromFavoritesList:function(e){c({type:"REMOVE_FROM_FAVORITES",payload:e})}},children:e.children})},O=s.p+"static/media/logo.da3f379f.svg";var v=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),s=t[0],i=t[1];return Object(b.jsx)("nav",{className:"navbar is-fixed-top is-primary",role:"navigation","aria-label":"main navigation",children:Object(b.jsxs)("div",{className:"container is-max-desktop",children:[Object(b.jsxs)("div",{className:"navbar-brand",children:[Object(b.jsx)("div",{className:"navbar-item",children:Object(b.jsx)("img",{src:O,alt:"The Movie Data Base",width:"150"})}),Object(b.jsxs)("button",{className:"navbar-burger burger ".concat(s?"is-active":""),"aria-label":"menu","aria-expanded":"false","data-target":"navbarMenu",onClick:function(){i(!s)},children:[Object(b.jsx)("span",{"aria-hidden":"true"}),Object(b.jsx)("span",{"aria-hidden":"true"}),Object(b.jsx)("span",{"aria-hidden":"true"})]})]}),Object(b.jsx)("div",{id:"navbarMenu",className:"navbar-menu ".concat(s?"is-active":""),children:Object(b.jsxs)("div",{className:"navbar-end",children:[Object(b.jsx)(n.b,{className:"navbar-item",to:"/",onClick:function(){i(!s)},children:"Search"}),Object(b.jsx)(n.b,{className:"navbar-item",to:"/favorites",onClick:function(){i(!s)},children:"Favorites"})]})})]})})},x=s(10),f=s(11),p=function(e){var t=e.movie,s=Object(a.useContext)(u),i=s.addToFavoritesList,c=!!s.favoritesList.find((function(e){return e.id===t.id}));return Object(b.jsx)("div",{className:"box mt-2",children:Object(b.jsxs)("div",{className:"media",children:[Object(b.jsx)("div",{className:"media-left",children:Object(b.jsx)("figure",{className:"image is-128x128 is-2by3",children:t.poster_path?Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(b.jsx)("img",{src:"https://via.placeholder.com/200x300/0D253F/FFFFFF?text=Poster+not+found",alt:"Poster not found"})})}),Object(b.jsx)("div",{className:"media-content",children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("h3",{className:"title is-3",children:t.title}),Object(b.jsx)("p",{className:"subtitle is-5",children:t.release_date?t.release_date.substring(0,4):"-"}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("p",{className:"control",children:Object(b.jsxs)("button",{className:"button is-danger is-outlined",disabled:c,onClick:function(){return i(t)},children:[Object(b.jsx)("span",{className:"icon is-small",children:Object(b.jsx)(x.a,{icon:f.a})}),Object(b.jsx)("span",{children:"Add to Favorites"})]})}),Object(b.jsx)("p",{className:"control",children:Object(b.jsx)("button",{className:"button is-primary is-outlined",onClick:function(){return console.log(t.id)},children:"Movie Details"})})]})]})})]})})},N=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),s=t[0],i=t[1],c=Object(a.useState)([]),n=Object(o.a)(c,2),r=n[0],l=n[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"hero is-primary",children:Object(b.jsx)("div",{className:"hero-body",children:Object(b.jsxs)("div",{className:"container is-max-desktop",children:[Object(b.jsx)("h1",{className:"title is-1 is-size-3-mobile",children:"Welcome to The Movie Data Base."}),Object(b.jsx)("h2",{className:"subtitle is-3 is-size-6-mobile has-text-link",children:"Explore now millions of movies."}),Object(b.jsxs)("p",{className:"control has-icons-left",children:[Object(b.jsx)("input",{className:"input is-medium is-rounded",type:"text",placeholder:"Search for a movie",value:s,onChange:function(e){e.preventDefault(),i(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("4cb1eeab94f45affe2536f2c684a5c9e","&language=en-US&page=1&include_adult=false&query=").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?l([]):l(e.results)}))}}),Object(b.jsx)("span",{className:"icon is-small is-left",children:Object(b.jsx)(x.a,{icon:f.b})})]})]})})}),Object(b.jsx)("div",{className:"container pb-2",children:r.length>0&&Object(b.jsx)("ul",{children:r.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(p,{movie:e})},e.id)}))})})]})},g=function(e){var t=e.movie,s=(e.type,Object(a.useContext)(u).removeFromFavoritesList);return Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-image",children:Object(b.jsx)("figure",{className:"image is-2by3",children:t.poster_path?Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(b.jsx)("img",{src:"https://via.placeholder.com/200x300/0D253F/FFFFFF?text=Poster+not+found",alt:"Poster not found"})})}),Object(b.jsxs)("div",{className:"custom-card-content",children:[Object(b.jsx)("h4",{className:"title is-6",children:t.title}),Object(b.jsxs)("button",{className:"button is-small is-danger is-outlined",onClick:function(){return s(t.id)},children:[Object(b.jsx)("span",{className:"icon is-small",children:Object(b.jsx)(x.a,{icon:f.c})}),Object(b.jsx)("span",{children:"Remove"})]})]})]})},F=function(){var e=Object(a.useContext)(u).favoritesList;return Object(b.jsxs)("div",{className:"container pt-2 pb-2",children:[Object(b.jsx)("h2",{className:"title is-3 is-size-5-mobile",children:"My favorites movies"}),e.length>0?Object(b.jsx)("div",{className:"columns is-multiline",children:e.map((function(e){return Object(b.jsx)("div",{className:"column is-one-quarter is-full-mobile",children:Object(b.jsx)(g,{movie:e,type:"favoritesList"})},e.id)}))}):Object(b.jsx)("div",{className:"notification is-link is-light",children:Object(b.jsx)("p",{children:"No movies in your favorites list, add some!"})})]})},y=function(e){var t=e.movie;return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("h1",{className:"title",children:t.title})})},L=function(){return Object(b.jsx)(h,{children:Object(b.jsxs)(n.a,{basename:"/",children:[Object(b.jsx)(v,{}),Object(b.jsxs)(r.c,{children:[Object(b.jsx)(r.a,{exact:!0,path:"/",component:N}),Object(b.jsx)(r.a,{exact:!0,path:"/favorites",component:F}),Object(b.jsx)(r.a,{exact:!0,path:"/movie/:id",component:y})]})]})})};s(38);c.a.render(Object(b.jsx)(L,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.8c8b1531.chunk.js.map